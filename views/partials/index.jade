div#menus
    div.main-app#split-one(ng-class="{'split': isSplit}" ng-controller='DefaultMapController' )
        nav.top-bar(data-topbar ng-cloak ng-show='user.currentProfile')
            ul.title-area
                li.name
                    a(href='#')
                        img(src='images/logo-1.png')
                li.toggle-topbar.menu-icon
                    a menu
            section.top-bar-section
                ul.right
                    li#split-button.has-tip(data-tooltip title='split view')
                        a(ng-hide='isSplit' ng-click='split()')
                            i.el-icon-link
                    li#export-button.has-tip(ng-hide='isSplit' data-tooltip title='export')
                        a(ng-click='export()')
                            i.el-icon-picture
                    li#print-button.has-tip(ng-hide='isSplit' data-tooltip title='print')
                        a(ng-click='print()')
                            i.el-icon-print
                    li.has-dropdown(ng-hide='isSplit')
                        a(href='#') settings
                        ul.dropdown
                            li(ng-class="{'active': showLayerControl}" ng-click='toggleLayerControl()')
                                a layer control
                            li(ng-class="{'active': showLegend}" ng-click='toggleLegend()')
                                a legend
                    li.active
                        a.exit-off-canvas(ng-hide='isSplit' href='#' rel='logout') logout
                ul.left
                    li
                        a Date
                    li
                        select(ng-model='currentDate' ng-options='item.date as item.date for item in dates | date: centerIndex')
        #opacity-sliders.row(ng-show='showLayerControl')
            .slide-container.small-6.large-12(ng-repeat='overlay in layers.overlays')
                label {{overlay.name}}
                input(type='checkbox' ng-model='overlay.layerParams.opacity' ng-true-value='1' ng-false-value='0' ng-checked='overlay.layerParams.opacity')
                div(range-slider min='0' max='1' model-min='0' decimal-places='1' step='0.1' pin-handle='min' model-max='overlay.layerParams.opacity' filter='percentage')
        .cursor-location
            span.lat lat: {{cursor.lat | latLng}} W
            span &nbsp;&nbsp;
            span.lng lng: {{cursor.lng | latLng}} N

        .off-canvas-wrap(data-offcanvas)
            .inner-wrap(ng-class="{'split-inner': isSplit}")
                a.left-off-canvas-toggle.menu-icon( ng-cloak ng-show='user.currentProfile')
                    span
                        #menu-icon.has-tip(data-tooltip title='fields')
                            i.el-icon-th-list    {{username}}

                section.left-off-canvas-menu(ng-cloak ng-show='user.currentProfile')
                    ul.off-canvas-list
                        li
                            label Fields
                        li( ng-repeat='center in centers')
                            a(ng-class="{'active':$index===centerIndex}" ng-click='moveCenter($index)') {{fields[$index]}}
                section.main-section
                    #index-container
                        section.medium-12.text-center
                            div#map-container
                                leaflet#map1(ng-init='mapInit("map1")' center='center' controls="controls" layers='layers' defaults='defaults' url-hash-center='yes')
                    // #rss(ng-controller='RssController')
                    //     #menu-icon(ng-click="loadFeed()")
                    //         i.el-icon-rss  Weather
                    //     p(ng-class="{'split': isSplit}" ng-show="feedDisplay").
                    //         {{feed}}


    div.main-app#split-two.split-view(ng-show='isSplit' ng-controller='DefaultMapController')
        nav.top-bar(data-topbar ng-cloak ng-show='user.currentProfile')
            ul.title-area
                li.toggle-topbar.menu-icon
                    a menu
            section.top-bar-section
                ul.right
                    li
                        a(ng-click='split()')
                            i.el-icon-link
                    li
                        a(ng-click='splitExport()')
                            i.el-icon-picture
                    li
                        a(ng-click='splitPrint()')
                            i.el-icon-print
                    li.has-dropdown
                        a settings
                        ul.dropdown
                            li(ng-class="{'active': showLayerControl}" ng-click='toggleLayerControl()')
                                a layer control
                            li(ng-class="{'active': showLegend}" ng-click='toggleLegend()')
                                a legend
                    li.active
                        a.exit-off-canvas(href='#' rel='logout') logout
                ul.left
                    li
                        a Date
                    li
                        select(ng-model='currentDate' ng-options='item.date as item.date for item in dates | date: centerIndex')
        #opacity-sliders.row(ng-show='showLayerControl')
            .slide-container.small-6.large-12(ng-repeat='overlay in layers.overlays')
                label {{overlay.name}}
                input(type='checkbox' ng-model='overlay.layerParams.opacity' ng-true-value='1' ng-false-value='0' ng-checked='overlay.layerParams.opacity')
                div(range-slider min='0' max='1' model-min='0' decimal-places='1' step='0.1' pin-handle='min' model-max='overlay.layerParams.opacity' filter='percentage')
        .cursor-location
            span.lat lat: {{cursor.lat | latLng}} W
            span &nbsp;&nbsp;
            span.lng lng: {{cursor.lng | latLng}} N

        .off-canvas-wrap(data-offcanvas)
            .inner-wrap(ng-class="{'split-inner': isSplit}")
                a.left-off-canvas-toggle.menu-icon( ng-cloak ng-show='user.currentProfile')
                    span
                        #menu-icon
                            i.el-icon-th-list    {{username}}

                section.left-off-canvas-menu(ng-cloak ng-show='user.currentProfile')
                    ul.off-canvas-list
                        li
                            label Maps
                        li( ng-repeat='center in centers')
                            a(ng-class="{'active':$index===centerIndex}" ng-click='moveCenter($index)') {{fields[$index]}}
                section.main-section
                    #index-container
                        section.medium-12.text-center
                            div#map-container
                                leaflet#map2(ng-init='mapInit("map2")' center='center' layers='layers' defaults='defaults' url-hash-center='yes')
                    // #rss(ng-controller='RssController')
                    //     #menu-icon(ng-click="loadFeed()")
                    //         i.el-icon-rss  Weather
                    //     p(ng-class="{'split': isSplit}" ng-show="feedDisplay").
                    //         {{feed}}
