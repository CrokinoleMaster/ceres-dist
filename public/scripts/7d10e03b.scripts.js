"use strict";angular.module("ceresApp",["ngCookies","ngResource","ngSanitize","ngRoute","leaflet-directive"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"partials/login",controller:"LoginController"}).when("/index",{templateUrl:"partials/index",controller:"IndexController"}).otherwise({redirectTo:"/"})}]).config(["$locationProvider",function(a){a.html5Mode(!0)}]).run(function(a,b){a.$on("$locationChangeStart",function(a,c){Userbin.user()?"partials/index"!==c.templateUrl&&b.path("/index"):"partials/login"===c.templateUrl||b.path("/")}),a.$on("$viewContentLoaded",function(){$(document).foundation()})}),$(function(){$(".inner-wrap").css("height",$(window).height()-45+"px"),$(".inner-wrap").css("width",$(window).width()+"px"),$(window).resize(function(){$(".inner-wrap").css("height",$(window).height()-45+"px"),$(".inner-wrap").css("width",$(window).width()+"px")})}),angular.module("ceresApp").controller("MainController",["$scope","$location",function(a,b){a.user={},a.user.currentProfile=Userbin.user(),Userbin.on("logout.success",function(){a.user.currentProfile=Userbin.user(),a.$apply(),a.$apply(function(){b.path("/")})}),Userbin.on("login.success",function(){a.user.currentProfile=Userbin.user(),a.$apply(),a.$apply(function(){b.path("/index")})})}]),angular.module("ceresApp").controller("LoginController",["$scope","$location",function(){}]),angular.module("ceresApp").controller("IndexController",["$scope","$location",function(){}]),angular.module("ceresApp").controller("DefaultMapController",["$scope","leafletData",function(a,b){angular.extend(a,{america:{lat:38,lng:-94,zoom:4},layers:{baselayers:{googleRoadmap:{name:"Google Satelite",layerType:"SATELLITE",type:"google"},osm:{name:"Huaruis map",url:"http://api.tiles.mapbox.com/v3/huaruiwu.i0ka23ad/{z}/{x}/{y}.png",type:"xyz"},cloudmade2:{name:"Cloudmade Tourist",type:"xyz",url:"http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png",layerParams:{key:"007b9471b4c74da4a6ec7ff43552b16f",styleId:7}}}},defaults:{zoomControlPosition:"bottomleft",touchZoom:!1}}),b.getMap().then(function(a){a.touchZoom.disable()})}]);